<Window
  x:Class="ReserV7.Views.Windows.EquipmentEditWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
  Title="Ajouter/Éditer Équipement"
  Width="500"
  Height="450"
  WindowStartupLocation="CenterOwner"
  ShowInTaskbar="False"
  WindowStyle="SingleBorderWindow"
  Background="{DynamicResource ApplicationBackgroundBrush}"
  d:DesignHeight="450"
  d:DesignWidth="500"
  mc:Ignorable="d"
>
  <Grid RowDefinitions="Auto,*,Auto">
    <!-- Header -->
    <Border 
      Grid.Row="0" 
      Padding="20,16,20,16" 
      BorderThickness="0,0,0,1"
      BorderBrush="{DynamicResource ControlBorderBrush}">
      <TextBlock 
        FontSize="18" 
        FontWeight="Bold" 
        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
        x:Name="TitleBlock"
        Text="Ajouter Équipement" />
    </Border>

    <!-- Content -->
    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
      <StackPanel Orientation="Vertical">

        <!-- Equipment Name -->
        <StackPanel Orientation="Vertical" Margin="0,0,0,20">
          <TextBlock 
            FontSize="14" 
            FontWeight="SemiBold" 
            Text="Nom de l'équipement *" 
            Margin="0,0,0,6" />
          <TextBox
            x:Name="EquipmentNameTextBox"
            Text="{Binding EquipmentName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
            Padding="12,8"
            MinHeight="40"
            Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
          <TextBlock 
            FontSize="11" 
            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
            Text="Ex: Projecteur, Tableau blanc, Climatisation..."
            Margin="0,4,0,0" />
        </StackPanel>

        <!-- Equipment Type -->
        <StackPanel Orientation="Vertical" Margin="0,0,0,20">
          <TextBlock 
            FontSize="14" 
            FontWeight="SemiBold" 
            Text="Type d'équipement *" 
            Margin="0,0,0,6" />
          <ComboBox
            x:Name="EquipmentTypeComboBox"
            SelectedItem="{Binding EquipmentType, Mode=TwoWay}"
            Padding="12,8"
            MinHeight="40">
            <System:String xmlns:System="clr-namespace:System;assembly=mscorlib">Audiovisuel</System:String>
            <System:String xmlns:System="clr-namespace:System;assembly=mscorlib">Informatique</System:String>
            <System:String xmlns:System="clr-namespace:System;assembly=mscorlib">Mobilier</System:String>
            <System:String xmlns:System="clr-namespace:System;assembly=mscorlib">Climatisation</System:String>
            <System:String xmlns:System="clr-namespace:System;assembly=mscorlib">Sécurité</System:String>
            <System:String xmlns:System="clr-namespace:System;assembly=mscorlib">Réseau</System:String>
            <System:String xmlns:System="clr-namespace:System;assembly=mscorlib">Autre</System:String>
          </ComboBox>
        </StackPanel>

        <!-- Equipment Description -->
        <StackPanel Orientation="Vertical" Margin="0,0,0,20">
          <TextBlock 
            FontSize="14" 
            FontWeight="SemiBold" 
            Text="Description (optionnel)" 
            Margin="0,0,0,6" />
          <TextBox
            x:Name="EquipmentDescriptionTextBox"
            Text="{Binding EquipmentDescription, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
            Padding="12,8"
            MinHeight="60"
            TextWrapping="Wrap"
            AcceptsReturn="True"
            Foreground="{DynamicResource TextFillColorPrimaryBrush}" />
          <TextBlock 
            FontSize="11" 
            Foreground="{DynamicResource TextFillColorSecondaryBrush}"
            Text="Détails supplémentaires sur l'équipement (marque, modèle, etc.)"
            Margin="0,4,0,0" />
        </StackPanel>

        <!-- Functional Status -->
        <Border 
          Padding="12" 
          CornerRadius="6"
          Background="{DynamicResource ControlFillColorSecondaryBrush}"
          BorderBrush="{DynamicResource ControlBorderBrush}"
          BorderThickness="1"
          Margin="0,0,0,20">
          <StackPanel Orientation="Vertical">
            <TextBlock 
              FontSize="14" 
              FontWeight="SemiBold" 
              Text="État de l'équipement"
              Margin="0,0,0,8" />
            <CheckBox
              IsChecked="{Binding IsEquipmentFunctional, Mode=TwoWay}"
              Content="Équipement fonctionnel"
              FontSize="13"
              Padding="8"
              Margin="0,0,0,8" />
            <TextBlock 
              FontSize="11" 
              Foreground="{DynamicResource TextFillColorSecondaryBrush}"
              Text="Décochez cette option si l'équipement est en panne ou en maintenance"
              TextWrapping="Wrap" />
          </StackPanel>
        </Border>

      </StackPanel>
    </ScrollViewer>

    <!-- Footer Buttons -->
    <Border 
      Grid.Row="2" 
      Padding="20,16,20,16" 
      BorderThickness="0,1,0,0"
      BorderBrush="{DynamicResource ControlBorderBrush}">
      <Grid ColumnDefinitions="*,Auto,Auto">
        <ui:Button
          Grid.Column="1"
          Margin="0,0,12,0"
          Appearance="Secondary"
          Content="Annuler"
          Click="CancelButton_Click"
          Padding="20,8" />
        <ui:Button
          Grid.Column="2"
          Appearance="Success"
          Content="Sauvegarder"
          Command="{Binding SaveCommand}"
          Padding="20,8" />
      </Grid>
    </Border>
  </Grid>
</Window>
