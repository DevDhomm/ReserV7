<Window
  x:Class="ReserV7.Views.Windows.UserEditWindow"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
  Title="Ã‰diter : Utilisateur"
  Width="600"
  Height="700"
  WindowStartupLocation="CenterOwner"
  ShowInTaskbar="False"
  WindowStyle="SingleBorderWindow"
  Background="{DynamicResource ApplicationBackgroundBrush}"
  d:DesignHeight="700"
  d:DesignWidth="600"
  mc:Ignorable="d"
>
  <Grid RowDefinitions="Auto,*,Auto">
    <!-- Header -->
    <Border 
      Grid.Row="0" 
      Padding="20,16,20,16" 
      BorderThickness="0,0,0,1"
      BorderBrush="{DynamicResource ControlBorderBrush}">
      <TextBlock 
        FontSize="20" 
        FontWeight="Bold" 
        Foreground="{DynamicResource TextFillColorPrimaryBrush}"
        x:Name="TitleBlock"
        Text="Ajouter : Nouvel Utilisateur" />
    </Border>

    <!-- Content -->
    <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="20">
      <StackPanel Orientation="Vertical">

        <!-- nom -->
        <StackPanel Orientation="Vertical" Margin="0,0,0,20">
          <TextBlock FontSize="14" Foreground="AntiqueWhite" FontWeight="SemiBold" Text="Nom *" Margin="0,0,0,6" />
          <TextBox
            x:Name="NomTextBox"
            Text="{Binding UserNom, Mode=TwoWay}"
            Padding="12,8"
            MinHeight="40" />
        </StackPanel>

        <!-- Email -->
        <StackPanel Orientation="Vertical" Margin="0,0,0,20">
          <TextBlock FontSize="14" FontWeight="SemiBold" Text="Email *" Margin="0,0,0,6" />
          <TextBox
            x:Name="EmailTextBox"
            Text="{Binding UserEmail, Mode=TwoWay}"
            Padding="12,8"
            MinHeight="40" />
        </StackPanel>

        <!-- Username -->
        <StackPanel Orientation="Vertical" Margin="0,0,0,20">
          <TextBlock FontSize="14" FontWeight="SemiBold" Text="Nom d'utilisateur *" Margin="0,0,0,6" />
          <TextBox
            x:Name="UsernameTextBox"
            Text="{Binding UserUsername, Mode=TwoWay}"
            Padding="12,8"
            MinHeight="40" />
        </StackPanel>

        <!-- Password -->
        <StackPanel Orientation="Vertical" Margin="0,0,0,20">
          <TextBlock FontSize="14" FontWeight="SemiBold" Text="Mot de passe *" Margin="0,0,0,6" />
          <PasswordBox
            x:Name="PasswordBox"
            Padding="12,8"
            MinHeight="40" />
          <TextBlock 
            FontSize="11" 
            Foreground="{DynamicResource TextFillColorTertiaryBrush}" 
            Text="Laissez vide pour conserver le mot de passe existant" 
            Margin="0,4,0,0" />
        </StackPanel>

        <!-- Role -->
        <StackPanel Orientation="Vertical" Margin="0,0,0,20">
          <TextBlock FontSize="14" FontWeight="SemiBold" Text="RÃ´le *" Margin="0,0,0,6" />
          <ComboBox
            x:Name="RoleComboBox"
            SelectedItem="{Binding UserRole, Mode=TwoWay}"
            Padding="12,8"
            MinHeight="40">
            <System:String xmlns:System="clr-namespace:System;assembly=mscorlib">User</System:String>
            <System:String xmlns:System="clr-namespace:System;assembly=mscorlib">Gestionnaire</System:String>
          </ComboBox>
        </StackPanel>

      </StackPanel>
    </ScrollViewer>

    <!-- Footer with buttons -->
    <Border 
      Grid.Row="2" 
      Padding="20,16,20,16" 
      BorderThickness="0,1,0,0"
      BorderBrush="{DynamicResource ControlBorderBrush}">
      <Grid ColumnDefinitions="*,Auto,Auto">
        <Button
          Grid.Column="1"
          Margin="12,0,0,0"
          Padding="20,8"
          Content="Annuler"
          Click="CancelButton_Click" />
        <Button
          Grid.Column="2"
          Margin="12,0,0,0"
          Padding="20,8"
          Content="Sauvegarder"
          Background="{DynamicResource AccentFillColorDefaultBrush}"
          Foreground="White"
          Click="SaveButton_Click" />
      </Grid>
    </Border>
  </Grid>
</Window>
